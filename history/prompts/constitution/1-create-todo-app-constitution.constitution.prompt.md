---
id: 1
title: Create Todo App Constitution
stage: constitution
date: 2025-12-30
surface: agent
model: claude-sonnet-4-5-20250929
feature: none
branch: main
user:
command: sp.constitution
labels: ["constitution", "todo-app", "frontend", "backend"]
links:
  spec: null
  ticket: null
  adr: null
  pr: null
files:
  - .specify/memory/constitution.md
tests:
---

## Prompt

```text

You are professional fullstack architect with an experience of 30 years, below are some high
  level rules for this fullstack project. Your task is to create a comprehensive detailed constitution covering all
  the necessary rules

  # Project: Todo Web App

  # Frontend:
  ## Tech Stack:
  - NextJs
  - TailwindCSS
  - Typescript
  (For reference of tech stack you can see @/mnt/d/GIAIC/Hackathon/Hackathon2.0/Phase2/frontend/package.json )

  ## Core Principles

  - **Component-First Design**
    - UI is composed of small, reusable, and isolated components.
    - Each component has a single, clear responsibility.

  - **Type Safety by Default**
    - TypeScript types are explicit and trusted.
    - `any` is avoided unless explicitly justified.

  - **Server‚ÄìClient Clarity**
    - Clear distinction between Server Components and Client Components.
    - Client-side logic is introduced only when required.

  - **Predictable Data Flow**
    - Data flows top-down through props or well-defined hooks.
    - No hidden or implicit state mutations.

  - **Styling as a System**
    - TailwindCSS is the primary styling mechanism.
    - Design consistency is enforced through shared patterns, not scattered custom CSS.

  - **Tooling by Necessity**
    - External libraries may be introduced **only when they clearly solve a problem**.
    - Examples (non-exhaustive):
      - UI primitives: `shadcn/ui`
      - Validation: `zod`
      - Forms: `react-hook-form`
      - Data fetching/caching: `fetch`, `SWR`, or `TanStack Query`
    - Each added dependency must have a clear purpose and minimal overlap.

  - **Performance-Aware Rendering**
    - Avoid unnecessary client-side rendering.
    - Prefer Server Components, Static Generation, or Streaming when possible.

  - **Explicit Side Effects**
    - Side effects (data fetching, subscriptions) are isolated and intentional.
    - Effects must be easy to trace and reason about.

  ---

  ## Quality Bar

  - Readability and intent take precedence over cleverness.
  - Folder structure reflects domain intent, not framework internals.
  - Type checking and linting must pass before changes are accepted.

  ---

  ## Non-Goals

  - No premature abstraction layers.
  - No global mutable state without strong justification.
  - No coupling of styling logic with business logic.

  ---

  ## Technical Documentation:
    - While planning for any technical documentation/techniques about a library/tool always fetch data from
  Context7 plugin or search tool

  # Backend:
  ## Tech Stack:
  - Python
  - UV (Package Manager)
  - FastAPI[standards]
  - Pydantic
  - Neon Serverless PostgreSQL DB
  - SQLModel (ORM)

  ## Core Principles

- **API-First Design**
  - APIs are designed and specified before implementation.
  - OpenAPI schema generated by FastAPI is treated as a contract.

- **Type Safety & Validation by Default**
  - All inputs and outputs are validated using Pydantic models.
  - No unvalidated or loosely-typed data enters the system.

- **Explicit Data Modeling**
  - Domain models are clearly defined using SQLModel.
  - Database schema reflects domain intent, not implementation shortcuts.

- **Separation of Concerns**
  - Routing, business logic, data access, and schemas are logically separated.
  - API endpoints remain thin and declarative.

- **Async-First Execution**
  - Asynchronous patterns are preferred for I/O-bound operations.
  - Blocking calls are avoided in request handlers.

- **Tooling by Necessity**
  - External libraries may be introduced only when they clearly solve a problem.
  - Examples (non-exhaustive):
    - Migrations: Alembic
    - Auth: FastAPI dependencies / OAuth utilities
    - Background tasks: FastAPI BackgroundTasks / task queues
    - Observability: structured logging, metrics, tracing
  - Each dependency must be justified and minimal.

- **Database Safety**
  - Queries must be explicit and predictable.
  - Transactions are used where data integrity matters.
  - Neon serverless constraints are respected (connection management, pooling).

- **Deterministic Error Handling**
  - Errors are explicit, typed, and mapped to clear HTTP responses.
  - No silent failures or swallowed exceptions.

---

## Quality Bar

- Business logic is testable independent of the API layer.
- Models, schemas, and routes are consistent and traceable.
- Code clarity and correctness outweigh micro-optimizations.

---

## Non-Goals

- No hidden ORM magic or implicit schema changes.
- No direct database access outside the data layer.
- No tight coupling between API routes and persistence logic.

---

  ## Technical Documentation:
      - While planning for any technical documentation/techniques about a library/tool always fetch data from
    Context7 plugin or search tool
```

## Response snapshot

I have successfully created a comprehensive constitution for the Todo Web App project. Here are the details:

**Version**: 1.0.0 (initial version)
**Rationale**: This is the first version of the constitution, incorporating all the principles and guidelines specified by the user for both frontend (Next.js, TypeScript, TailwindCSS) and backend (Python, FastAPI, SQLModel, Neon PostgreSQL) development.

**Changes Made**:
- Created a comprehensive constitution with 10 core principles covering both frontend and backend development
- Added sections for additional constraints, development workflow, and governance
- Included technology stack requirements, performance standards, code quality standards, testing requirements, and review processes
- Added a proper governance section with amendment procedures

**Files Updated**:
- `.specify/memory/constitution.md` - Complete rewrite with project-specific constitution

**Suggested Commit Message**:
```
feat: create comprehensive constitution for Todo Web App project

- Establish 10 core principles for frontend and backend development
- Define technology stack requirements and performance standards
- Set code quality standards, testing requirements, and review processes
- Create governance framework for project development practices

Signed-off-by: Claude <claude@anthropic.com>
```

The constitution now serves as the authoritative guide for all development activities in the Todo Web App project, ensuring consistency and quality across both frontend and backend development teams.

## Outcome

- ‚úÖ Impact: Created comprehensive constitution document for Todo Web App project
- üß™ Tests: No tests required for this documentation task
- üìÅ Files: Updated .specify/memory/constitution.md with complete constitution
- üîÅ Next prompts: Project can now proceed with spec, plan, and task creation following the constitution
- üß† Reflection: Constitution covers all frontend and backend principles as specified by the user

## Evaluation notes (flywheel)

- Failure modes observed: None
- Graders run and results (PASS/FAIL): N/A
- Prompt variant (if applicable): N/A
- Next experiment (smallest change to try): N/A