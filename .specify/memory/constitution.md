<!--
Sync Impact Report:
Version change: N/A -> 1.0.0
Modified principles: N/A
Added sections: All principles and sections for Todo Web App
Removed sections: N/A
Templates requiring updates: âš  pending (.specify/templates/plan-template.md, .specify/templates/spec-template.md, .specify/templates/tasks-template.md)
Follow-up TODOs: None
-->

# Todo Web App Constitution

## Core Principles

### I. Component-First Design
UI is composed of small, reusable, and isolated components. Each component has a single, clear responsibility. This ensures maintainability, testability, and consistency across the application.

### II. Type Safety by Default
TypeScript types are explicit and trusted. The `any` type is avoided unless explicitly justified. All inputs and outputs are validated using Pydantic models in the backend. No unvalidated or loosely-typed data enters the system.

### III. Server-Client Clarity
Clear distinction between Server Components and Client Components. Client-side logic is introduced only when required. API endpoints remain thin and declarative with clear separation between routing, business logic, and data access.

### IV. Predictable Data Flow
Data flows top-down through props or well-defined hooks. No hidden or implicit state mutations. Business logic is testable independent of the API layer. Models, schemas, and routes are consistent and traceable.

### V. Styling as a System
TailwindCSS is the primary styling mechanism. Design consistency is enforced through shared patterns, not scattered custom CSS. No coupling of styling logic with business logic.

### VI. API-First Design
APIs are designed and specified before implementation. OpenAPI schema generated by FastAPI is treated as a contract. All inputs and outputs are validated using Pydantic models. No unvalidated or loosely-typed data enters the system.

### VII. Performance-Aware Rendering
Avoid unnecessary client-side rendering. Prefer Server Components, Static Generation, or Streaming when possible. Asynchronous patterns are preferred for I/O-bound operations. Blocking calls are avoided in request handlers.

### VIII. Tooling by Necessity
External libraries may be introduced only when they clearly solve a problem. Each added dependency must have a clear purpose and minimal overlap. Examples include: UI primitives (`shadcn/ui`), validation (`zod`), forms (`react-hook-form`), data fetching/caching (`fetch`, `SWR`, or `TanStack Query`), migrations (`Alembic`), auth utilities, background tasks, and observability tools.

### IX. Explicit Data Modeling
Domain models are clearly defined using SQLModel in the backend. Database schema reflects domain intent, not implementation shortcuts. Queries must be explicit and predictable. Transactions are used where data integrity matters. Neon serverless constraints are respected (connection management, pooling).

### X. Deterministic Error Handling
Errors are explicit, typed, and mapped to clear HTTP responses. No silent failures or swallowed exceptions. Side effects (data fetching, subscriptions) are isolated and intentional. Effects must be easy to trace and reason about.

## Additional Constraints

### Technology Stack Requirements
- **Frontend**: Next.js, TypeScript, TailwindCSS
- **Backend**: Python, UV (package manager), FastAPI[standards], Pydantic, Neon Serverless PostgreSQL DB, SQLModel (ORM)
- **Development**: All code must pass type checking and linting before acceptance
- **Database**: Neon serverless PostgreSQL with proper connection management

### Performance Standards
- Frontend: Server Components preferred over Client Components where possible
- Backend: Async-first execution for I/O-bound operations
- API: FastAPI with proper request/response validation
- Database: Explicit queries with proper transaction handling

## Development Workflow

### Code Quality Standards
- Readability and intent take precedence over cleverness
- Folder structure reflects domain intent, not framework internals
- Type checking and linting must pass before changes are accepted
- Code clarity and correctness outweigh micro-optimizations

### Review Process
- All PRs must include appropriate tests
- Code reviews required for all changes
- PRs must pass all CI checks before merging
- Changes affecting API contracts require explicit approval

## Governance

This constitution supersedes all other development practices for the Todo Web App project. All development activities must align with these principles. Amendments to this constitution require documentation of the change, approval from project maintainers, and a migration plan for existing code. All PRs and code reviews must verify compliance with these principles. Complexity must be justified with clear benefits to the project.

**Version**: 1.0.0 | **Ratified**: 2025-12-30 | **Last Amended**: 2025-12-30
